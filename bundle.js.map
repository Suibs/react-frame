{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap 8e52ac9c4dbcc97ac5a4","webpack:///./example/app.js","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./lib/frame.js","webpack:///./lib/json-css.js","webpack:///./~/blacklist/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","React","ReactDOM","Frame","jcss","App","createClass","displayName","getInitialState","text","background","frame1","frame2","handleChange","e","this","setState","target","value","handleBackgroundChange","toggleStyle","frame","s","state","getCss","body","background-color","getStyleSheets","push","render","styleSheets","css","createElement","className","style","width","onChange","type","checked","bind","document","getElementById","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","_extends","assign","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","defineProperty","protoProps","staticProps","blacklist","_React$Component","getPrototypeOf","apply","nextProps","join","updateStylesheets","updateCss","findDOMNode","children","contentDocument","setTimeout","renderFrame","unmountComponentAtNode","_this2","links","head","querySelectorAll","l","link","parentNode","removeChild","forEach","href","setAttribute","appendChild","styleEl","el","styleSheet","cssText","cssNode","createTextNode","_props","root","_children","onLoad","Component","styles","map","rules","sel","rule","k","src","copy","filter"],"mappings":"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","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/example/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar React = __webpack_require__(1);\n\tvar ReactDOM = __webpack_require__(2);\n\tvar Frame = __webpack_require__(3);\n\tvar jcss = __webpack_require__(4);\n\t\n\tvar App = React.createClass({\n\t  displayName: 'App',\n\t\n\t  getInitialState: function getInitialState() {\n\t    return {\n\t      text: 'Parturient Ipsum Cursus Purus Justo',\n\t      background: '#aaa',\n\t      frame1: true,\n\t      frame2: false\n\t    };\n\t  },\n\t  handleChange: function handleChange(e) {\n\t    this.setState({ text: e.target.value });\n\t  },\n\t  handleBackgroundChange: function handleBackgroundChange(e) {\n\t    this.setState({ background: e.target.value });\n\t  },\n\t  toggleStyle: function toggleStyle(frame) {\n\t    var s = {};\n\t    s[frame] = !this.state[frame];\n\t    this.setState(s);\n\t  },\n\t  getCss: function getCss() {\n\t    return jcss([{ 'body': { 'background-color': this.state.background } }]);\n\t  },\n\t  getStyleSheets: function getStyleSheets() {\n\t    var s = [];\n\t    if (this.state.frame1) s.push('frame1.css');\n\t    if (this.state.frame2) s.push('frame2.css');\n\t    return s;\n\t  },\n\t  render: function render() {\n\t    var styleSheets = this.getStyleSheets();\n\t    var css = this.getCss();\n\t\n\t    return React.createElement(\n\t      'div',\n\t      { className: 'app' },\n\t      React.createElement(\n\t        'h1',\n\t        null,\n\t        'react-frame'\n\t      ),\n\t      React.createElement(\n\t        'div',\n\t        { className: 'title' },\n\t        this.state.text\n\t      ),\n\t      React.createElement(\n\t        Frame,\n\t        {\n\t          className: 'iframe',\n\t          id: 'iframe',\n\t          styleSheets: styleSheets,\n\t          css: css },\n\t        React.createElement(\n\t          'div',\n\t          { className: 'title' },\n\t          this.state.text\n\t        )\n\t      ),\n\t      React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement('textarea', {\n\t          style: { width: 400 },\n\t          value: this.state.text,\n\t          onChange: this.handleChange\n\t        })\n\t      ),\n\t      React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement(\n\t          'label',\n\t          null,\n\t          'Background Color'\n\t        ),\n\t        React.createElement('input', {\n\t          type: 'text',\n\t          value: this.state.background,\n\t          onChange: this.handleBackgroundChange\n\t        })\n\t      ),\n\t      React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement('input', {\n\t          type: 'checkbox',\n\t          checked: this.state.frame1,\n\t          onChange: this.toggleStyle.bind(null, 'frame1')\n\t        }),\n\t        React.createElement(\n\t          'label',\n\t          null,\n\t          'frame1.css'\n\t        )\n\t      ),\n\t      React.createElement(\n\t        'div',\n\t        null,\n\t        React.createElement('input', {\n\t          type: 'checkbox',\n\t          checked: this.state.frame2,\n\t          onChange: this.toggleStyle.bind(null, 'frame2')\n\t        }),\n\t        React.createElement(\n\t          'label',\n\t          null,\n\t          'frame2.css'\n\t        )\n\t      )\n\t    );\n\t  }\n\t});\n\t\n\tReactDOM.render(React.createElement(App, null), document.getElementById('app'));\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = React;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = ReactDOM;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar blacklist = __webpack_require__(5);\n\tvar React = __webpack_require__(1);\n\tvar ReactDOM = __webpack_require__(2);\n\t\n\tvar Frame = function (_React$Component) {\n\t  _inherits(Frame, _React$Component);\n\t\n\t  function Frame() {\n\t    _classCallCheck(this, Frame);\n\t\n\t    return _possibleConstructorReturn(this, (Frame.__proto__ || Object.getPrototypeOf(Frame)).apply(this, arguments));\n\t  }\n\t\n\t  _createClass(Frame, [{\n\t    key: 'componentWillReceiveProps',\n\t    value: function componentWillReceiveProps(nextProps) {\n\t      if (nextProps.styleSheets.join('') !== this.props.styleSheets.join('')) {\n\t        this.updateStylesheets(nextProps.styleSheets);\n\t      }\n\t\n\t      if (nextProps.css !== this.props.css) {\n\t        this.updateCss(nextProps.css);\n\t      }\n\t\n\t      var frame = ReactDOM.findDOMNode(this);\n\t      ReactDOM.render(nextProps.children, frame.contentDocument.getElementById('root'));\n\t    }\n\t  }, {\n\t    key: 'componentDidMount',\n\t    value: function componentDidMount() {\n\t      setTimeout(this.renderFrame.bind(this), 0);\n\t    }\n\t  }, {\n\t    key: 'componentWillUnmount',\n\t    value: function componentWillUnmount() {\n\t      ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).contentDocument.getElementById('root'));\n\t    }\n\t  }, {\n\t    key: 'updateStylesheets',\n\t    value: function updateStylesheets(styleSheets) {\n\t      var _this2 = this;\n\t\n\t      var links = this.head.querySelectorAll('link');\n\t      for (var i = 0, l = links.length; i < l; i++) {\n\t        var link = links[i];\n\t        link.parentNode.removeChild(link);\n\t      }\n\t\n\t      if (styleSheets && styleSheets.length) {\n\t        styleSheets.forEach(function (href) {\n\t          var link = document.createElement('link');\n\t          link.setAttribute('rel', 'stylesheet');\n\t          link.setAttribute('type', 'text/css');\n\t          link.setAttribute('href', href);\n\t          _this2.head.appendChild(link);\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'updateCss',\n\t    value: function updateCss(css) {\n\t      if (!this.styleEl) {\n\t        var _el = document.createElement('style');\n\t        _el.type = 'text/css';\n\t        this.head.appendChild(_el);\n\t        this.styleEl = _el;\n\t      }\n\t\n\t      var el = this.styleEl;\n\t\n\t      if (el.styleSheet) {\n\t        el.styleSheet.cssText = css;\n\t      } else {\n\t        var cssNode = document.createTextNode(css);\n\t        if (this.cssNode) el.removeChild(this.cssNode);\n\t        el.appendChild(cssNode);\n\t        this.cssNode = cssNode;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'renderFrame',\n\t    value: function renderFrame() {\n\t      var _props = this.props,\n\t          styleSheets = _props.styleSheets,\n\t          css = _props.css;\n\t\n\t      var frame = ReactDOM.findDOMNode(this);\n\t      var root = document.createElement('div');\n\t\n\t      root.setAttribute('id', 'root');\n\t\n\t      this.head = frame.contentDocument.head;\n\t      this.body = frame.contentDocument.body;\n\t      this.body.appendChild(root);\n\t\n\t      this.updateStylesheets(styleSheets);\n\t      this.updateCss(css);\n\t\n\t      ReactDOM.render(this._children, root);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      this._children = this.props.children;\n\t      // render children manually\n\t      var props = blacklist(this.props, 'children', 'styleSheets', 'css');\n\t      return React.createElement('iframe', _extends({}, props, { onLoad: this.renderFrame }));\n\t    }\n\t  }]);\n\t\n\t  return Frame;\n\t}(React.Component);\n\t\n\tmodule.exports = Frame;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// convert styles object to css string\n\t\n\tmodule.exports = function (styles) {\n\t  return styles.map(function (s) {\n\t    var rules = '';\n\t\n\t    for (var sel in s) {\n\t      if (s.hasOwnProperty(sel)) {\n\t        var style = s[sel];\n\t        var rule = sel + '{';\n\t        for (var k in style) {\n\t          if (style.hasOwnProperty(k) && style[k] != null && typeof style[k] !== 'undefined') {\n\t            rule += k + ':' + style[k] + ';';\n\t          }\n\t        }\n\t        rule += '}';\n\t        rules += rule;\n\t      }\n\t    }\n\t\n\t    return rules;\n\t  }).join('');\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function blacklist (src) {\n\t  var copy = {}\n\t  var filter = arguments[1]\n\t\n\t  if (typeof filter === 'string') {\n\t    filter = {}\n\t    for (var i = 1; i < arguments.length; i++) {\n\t      filter[arguments[i]] = true\n\t    }\n\t  }\n\t\n\t  for (var key in src) {\n\t    // blacklist?\n\t    if (filter[key]) continue\n\t\n\t    copy[key] = src[key]\n\t  }\n\t\n\t  return copy\n\t}\n\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/example/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8e52ac9c4dbcc97ac5a4","var React = require('react');\nvar ReactDOM = require('react-dom');\nvar Frame = require('../lib/frame');\nvar jcss = require('../lib/json-css');\n\nvar App = React.createClass({\n  displayName: 'App',\n\n  getInitialState() {\n    return {\n      text: 'Parturient Ipsum Cursus Purus Justo',\n      background: '#aaa',\n      frame1: true,\n      frame2: false\n    };\n  },\n\n  handleChange(e) {\n    this.setState({text: e.target.value});\n  },\n\n  handleBackgroundChange(e) {\n    this.setState({background: e.target.value});\n  },\n\n  toggleStyle(frame) {\n    var s = {};\n    s[frame] = !this.state[frame];\n    this.setState(s);\n  },\n\n  getCss() {\n    return jcss([\n      {'body': {'background-color': this.state.background}}\n    ]);\n  },\n\n  getStyleSheets() {\n    var s = [];\n    if(this.state.frame1) s.push('frame1.css');\n    if(this.state.frame2) s.push('frame2.css');\n    return s;\n  },\n\n  render() {\n    var styleSheets = this.getStyleSheets();\n    var css = this.getCss();\n\n    return (\n      <div className=\"app\">\n        <h1>react-frame</h1>\n        <div className=\"title\">{this.state.text}</div>\n        <Frame\n          className=\"iframe\"\n          id=\"iframe\"\n          styleSheets={styleSheets}\n          css={css}>\n\n          <div className=\"title\">{this.state.text}</div>\n        </Frame>\n\n        <div>\n          <textarea\n            style={{width: 400}}\n            value={this.state.text}\n            onChange={this.handleChange}\n          />\n        </div>\n\n        <div>\n          <label>Background Color</label>\n          <input\n            type=\"text\"\n            value={this.state.background}\n            onChange={this.handleBackgroundChange}\n          />\n        </div>\n\n        <div>\n          <input\n            type=\"checkbox\"\n            checked={this.state.frame1}\n            onChange={this.toggleStyle.bind(null, 'frame1')}\n          />\n          <label>frame1.css</label>\n        </div>\n\n        <div>\n          <input\n            type=\"checkbox\"\n            checked={this.state.frame2}\n            onChange={this.toggleStyle.bind(null, 'frame2')}\n          />\n          <label>frame2.css</label>\n        </div>\n      </div>\n    )\n  }\n});\n\nReactDOM.render(<App/>, document.getElementById('app'));\n\n\n\n// WEBPACK FOOTER //\n// ./example/app.js","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 1\n// module chunks = 0","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 2\n// module chunks = 0","const blacklist = require('blacklist');\nconst React = require('react');\nconst ReactDOM = require('react-dom');\n\nclass Frame extends React.Component {\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.styleSheets.join('') !== this.props.styleSheets.join('')) {\n      this.updateStylesheets(nextProps.styleSheets);\n    }\n\n    if (nextProps.css !== this.props.css) {\n      this.updateCss(nextProps.css);\n    }\n\n    const frame = ReactDOM.findDOMNode(this);\n    ReactDOM.render(nextProps.children, frame.contentDocument.getElementById('root'));\n  }\n\n  componentDidMount() {\n    setTimeout(this.renderFrame.bind(this), 0);\n  }\n\n  componentWillUnmount() {\n    ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this).contentDocument.getElementById('root'));\n  }\n\n  updateStylesheets(styleSheets) {\n    const links = this.head.querySelectorAll('link');\n    for (let i = 0, l = links.length; i < l; i++) {\n      const link = links[i];\n      link.parentNode.removeChild(link);\n    }\n\n    if (styleSheets && styleSheets.length) {\n      styleSheets.forEach((href) => {\n        const link = document.createElement('link');\n        link.setAttribute('rel', 'stylesheet');\n        link.setAttribute('type', 'text/css');\n        link.setAttribute('href', href);\n        this.head.appendChild(link);\n      });\n    }\n  }\n\n  updateCss(css) {\n    if (!this.styleEl) {\n      const el = document.createElement('style');\n      el.type = 'text/css';\n      this.head.appendChild(el);\n      this.styleEl = el;\n    }\n\n    const el = this.styleEl;\n\n    if (el.styleSheet) {\n      el.styleSheet.cssText = css;\n    } else {\n      const cssNode = document.createTextNode(css);\n      if (this.cssNode) el.removeChild(this.cssNode);\n      el.appendChild(cssNode);\n      this.cssNode = cssNode;\n    }\n  }\n\n  renderFrame() {\n    const { styleSheets, css } = this.props;\n    const frame = ReactDOM.findDOMNode(this);\n    const root = document.createElement('div');\n\n    root.setAttribute('id', 'root');\n\n    this.head = frame.contentDocument.head;\n    this.body = frame.contentDocument.body;\n    this.body.appendChild(root);\n\n    this.updateStylesheets(styleSheets);\n    this.updateCss(css);\n\n    ReactDOM.render(this._children, root);\n  }\n\n  render() {\n    this._children = this.props.children;\n    // render children manually\n    const props = blacklist(this.props, 'children', 'styleSheets', 'css');\n    return <iframe {...props} onLoad={this.renderFrame} />;\n  }\n}\n\nmodule.exports = Frame;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/frame.js","// convert styles object to css string\n\nmodule.exports = function (styles) {\n  return styles.map((s) => {\n    var rules = '';\n\n    for (var sel in s) {\n      if (s.hasOwnProperty(sel)) {\n        var style = s[sel];\n        var rule = sel + '{';\n        for (var k in style) {\n          if (style.hasOwnProperty(k) && style[k] != null && typeof style[k] !== 'undefined') {\n            rule += (k+':'+style[k]+';');\n          }\n        }\n        rule += '}';\n        rules += rule;\n      }\n    }\n\n    return rules;\n  }).join('');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/json-css.js","module.exports = function blacklist (src) {\n  var copy = {}\n  var filter = arguments[1]\n\n  if (typeof filter === 'string') {\n    filter = {}\n    for (var i = 1; i < arguments.length; i++) {\n      filter[arguments[i]] = true\n    }\n  }\n\n  for (var key in src) {\n    // blacklist?\n    if (filter[key]) continue\n\n    copy[key] = src[key]\n  }\n\n  return copy\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/blacklist/index.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}